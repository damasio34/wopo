var CryptoJS=CryptoJS||function(e,n){var t={},o=t.lib={},r=function(){},i=o.Base={extend:function(e){r.prototype=this;var n=new r;return e&&n.mixIn(e),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var n in e)e.hasOwnProperty(n)&&(this[n]=e[n]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=o.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=t!=n?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var n=this.words,t=e.words,o=this.sigBytes;if(e=e.sigBytes,this.clamp(),o%4)for(var r=0;e>r;r++)n[o+r>>>2]|=(t[r>>>2]>>>24-8*(r%4)&255)<<24-8*((o+r)%4);else if(65535<t.length)for(r=0;e>r;r+=4)n[o+r>>>2]=t[r>>>2];else n.push.apply(n,t);return this.sigBytes+=e,this},clamp:function(){var n=this.words,t=this.sigBytes;n[t>>>2]&=4294967295<<32-8*(t%4),n.length=e.ceil(t/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(n){for(var t=[],o=0;n>o;o+=4)t.push(4294967296*e.random()|0);return new s.init(t,n)}}),a=t.enc={},u=a.Hex={stringify:function(e){var n=e.words;e=e.sigBytes;for(var t=[],o=0;e>o;o++){var r=n[o>>>2]>>>24-8*(o%4)&255;t.push((r>>>4).toString(16)),t.push((15&r).toString(16))}return t.join("")},parse:function(e){for(var n=e.length,t=[],o=0;n>o;o+=2)t[o>>>3]|=parseInt(e.substr(o,2),16)<<24-4*(o%8);return new s.init(t,n/2)}},c=a.Latin1={stringify:function(e){var n=e.words;e=e.sigBytes;for(var t=[],o=0;e>o;o++)t.push(String.fromCharCode(n[o>>>2]>>>24-8*(o%4)&255));return t.join("")},parse:function(e){for(var n=e.length,t=[],o=0;n>o;o++)t[o>>>2]|=(255&e.charCodeAt(o))<<24-8*(o%4);return new s.init(t,n)}},l=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(n){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},f=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(n){var t=this._data,o=t.words,r=t.sigBytes,i=this.blockSize,a=r/(4*i),a=n?e.ceil(a):e.max((0|a)-this._minBufferSize,0);if(n=a*i,r=e.min(4*n,r),n){for(var u=0;n>u;u+=i)this._doProcessBlock(o,u);u=o.splice(0,n),t.sigBytes-=r}return new s.init(u,r)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});o.Hasher=f.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(n,t){return new e.init(t).finalize(n)}},_createHmacHelper:function(e){return function(n,t){return new d.HMAC.init(e,t).finalize(n)}}});var d=t.algo={};return t}(Math);!function(){var e=CryptoJS,n=e.lib,t=n.WordArray,o=n.Hasher,r=[],n=e.algo.SHA1=o.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,n){for(var t=this._hash.words,o=t[0],i=t[1],s=t[2],a=t[3],u=t[4],c=0;80>c;c++){if(16>c)r[c]=0|e[n+c];else{var l=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=l<<1|l>>>31}l=(o<<5|o>>>27)+u+r[c],l=20>c?l+((i&s|~i&a)+1518500249):40>c?l+((i^s^a)+1859775393):60>c?l+((i&s|i&a|s&a)-1894007588):l+((i^s^a)-899497514),u=a,a=s,s=i<<30|i>>>2,i=o,o=l}t[0]=t[0]+o|0,t[1]=t[1]+i|0,t[2]=t[2]+s|0,t[3]=t[3]+a|0,t[4]=t[4]+u|0},_doFinalize:function(){var e=this._data,n=e.words,t=8*this._nDataBytes,o=8*e.sigBytes;return n[o>>>5]|=128<<24-o%32,n[(o+64>>>9<<4)+14]=Math.floor(t/4294967296),n[(o+64>>>9<<4)+15]=t,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=o._createHelper(n),e.HmacSHA1=o._createHmacHelper(n)}(),function(e){"use strict";e.module("wopo.services",[])}(angular),function(e){"use strict";function n(){function e(e){r=e}function n(e){i=e}function t(e){s=e}function o(){return r||console.error("A configuração APP_ID não foi definida"),i||console.error("A configuração REST_API_KEY não foi definida"),{APP_ID:r,REST_API_KEY:i,UsuarioPrecisaEstarAutenticado:s}}var r,i,s=!0;this.setAppId=e,this.setRestApiKey=n,this.setUsuarioPrecisaEstarAutenticado=t,this.$get=o}e.module("wopo",["wopo.services"]).provider("$wopo",n)}(angular),function(e,n){"use strict";function t(){function e(e){var t=JSON.stringify(e);return n.SHA1(t).toString()}var t={hash:e};return t}n||console.error("É necessário importar a biblioteca cryptojs.js"),e.module("wopo.services").factory("CryptSha1Service",t)}(angular,CryptoJS),function(e){"use strict";function n(e,n){function t(t,o,r){var i=e.alert({title:t,template:o});n(function(){i.close()},r)}function o(n,t,o,r){var i=e.confirm({title:n,template:t});i.then(function(e){e?o():r()})}var r={alert:t,confirm:o};return r}e.module("wopo.services").factory("IonicPopupService",n),n.$inject=["$ionicPopup","$timeout"]}(angular),function(e){"use strict";function n(){function e(e,n){n&&(localStorage[e]=JSON.stringify(n))}function n(e){return localStorage[e]?JSON.parse(localStorage[e]):null}function t(e,n){n&&(sessionStorage[e]=JSON.stringify(n))}function o(e){return sessionStorage[e]?JSON.parse(sessionStorage[e]):null}var r={getLocalStorage:n,getSessionStorage:o,setLocalStorage:e,setSessionStorage:t};return r}e.module("wopo.services").factory("WebStorageService",n)}(angular),function(e){"use strict";function n(n,t,o,r){function i(){return f()?o.getLocalStorage("_$token")||o.getSessionStorage("_$token"):void console.error("Usuário não autenticado, por favor efetue login.")}function s(){var t=i(),o=e.copy(d.headers,o);return o["X-Parse-Session-Token"]=t,n.get("https://api.parse.com/1/users/me",{headers:o}).success(function(e,n){200==n&&console.log(e)}).error(function(e,n){console.log(e.error)})}function a(t){var i=e.copy(d.headers,i);i["Content-Type"]="application/json";var s={username:t.usuario,password:r.hash(t.senha),email:t.email};return n.post("https://api.parse.com/1/users",s,{headers:i}).success(function(e,n){201==n&&e.sessionToken&&(t.salvarSenha?o.setLocalStorage("_$token",e.sessionToken):o.setSessionStorage("_$token",e.sessionToken))}).error(function(e,n){400===n&&202===e.code&&console.warn("O nome de usuário "+t.usuario+" já está cadastrado."),console.log(e)})}function u(t){f()&&c();var i=e.copy(d.headers,i);return i["Content-Type"]="application/x-www-form-urlencoded",n.get("https://api.parse.com/1/login",{headers:i,params:{username:t.usuario,password:r.hash(t.senha)}}).success(function(e,n){200==n&&e.sessionToken&&(t.salvarSenha?o.setLocalStorage("_$token",e.sessionToken):o.setSessionStorage("_$token",e.sessionToken))}).error(function(e,n){404==n&&console.error("Usuário ou senha inválido.")})}function c(){var t=e.copy(d.headers,t),o=i();return t["X-Parse-Session-Token"]=o,o?n.post("https://api.parse.com/1/logout","",{headers:t}).success(function(e,n,t){200==n&&(sessionStorage.removeItem("_$token"),sessionStorage.clear(),localStorage.removeItem("_$token"),localStorage.clear())}).error(function(e,n){console.log(n),console.log(e.error)}):void 0}function l(t){var o=e.copy(d.headers,o);return o["Content-Type"]="application/json",n.post("https://api.parse.com/1/requestPasswordReset",t,{headers:o}).success(function(e,n){console.log("Senha enviada com sucesso.")}).error(function(e,n){400===n&&202===e.code&&console.warn("O nome de usuário "+t.usuario+" já está cadastrado."),console.log(e)})}function f(){var e=o.getLocalStorage("_$token")||o.getSessionStorage("_$token");return e&&null!==e?!0:!1}var d=this;this.headers={"X-Parse-Application-Id":t.APP_ID,"X-Parse-REST-API-Key":t.REST_API_KEY};var h={getToken:i,getUsuario:s,incluir:a,login:u,logout:c,recuperarSenha:l,usuarioAutenticado:f};return h}e.module("wopo.services").factory("LoginService",n),n.$inject=["$http","$wopo","WebStorageService","CryptSha1Service"]}(angular),function(e){var n=e.module("wopo.services");n.service("FormHelperService",function(n,t,o){var r=this,i=function(e){r.defaultRoute=e},s=function(e){return e.enabledValidations=!e.enabledValidations,e.enabledValidations},a=function(e,t,i){return t.incluir(e).success(function(e){o.alert("Sucesso","Dados cadastrados com sucess!",3e3),n.path(r.defaultRoute)},function(e){throw e})},u=function(n,t,o){return t.editar(n).success(function(t){o.OriginalModel=e.copy(n)},function(e){throw e})},c=function(e){if(!e.formulario)throw"Objeto Formulário não definido";return e.formulario.$valid},l=function(e){return e.formularioEhValido()&&e.usuarioAlterouFormulario()},f=function(e,n){if(e.formulario=n,e.formularioEhValido()){if(e.modoEdicao){if(!e.usuarioAlterouFormulario())return;return e.salvarAlteracao()}return e.salvarInclusao()}},d=function(n){return!e.equals(n.Model,n.OriginalModel)},h=function(n){return e.copy(n.OriginalModel,n.Model),n.Formulario.$setPristine()},p=function(e){return null===e||void 0===e},g=function(e,n,t){n.modoEdicao=!0;var o=function(e,n,t,o,r){t.getById(e).success(function(e){var t=!!e;t&&n.edit(e),o(e,e,t)},function(e){throw e})};return new Promise(function(r,i){n.$config?configuracoesService.getByKey(n.$config).then(function(s){n.$config=s,o(e,n,t,r,i)}):o(e,n,t,r,i)})},m=function(n,t){t.modoEdicao=!0,t.Model=n,t.OriginalModel=e.copy(n)},v=function(n,t){var o=n||{};t.Model=o,t.OriginalModel=e.copy(o),t.carregado=!0},S=function(e){e.usuarioAlterouFormulario()?o.confirm("Alteração não salvas","Deseja sair sem salvar as alterações?",function(){n.path(r.defaultRoute)}):n.path(r.defaultRoute)};this.applySettings=function(e,n,t){if(!n)throw"Variável '$scope' precisa ser definda";n.enabledValidations=!0,n.salvarInclusao=function(){return a(n.Model,t,n)},n.salvarAlteracao=function(){return u(n.Model,t,n)},n.formularioEhValido=function(){return c(n)},n.canSubmit=function(){return l(n)},n.submitForm=function(e){return f(n,e)},n.usuarioAlterouFormulario=function(){return d(n)},n.desfazerAlteracoesDoUsuario=function(){return h(n)},n.sair=function(){return S(n)},n.edit=function(e){return m(e,n)},e.editById=function(e){return g(e,n,t)},e.novoRegistro=function(e){return v(e,n,t)},e.isNullOrUndefined=function(e){return p(e)},e.setDefaultRoute=function(e){return i(e)},n.habilitarOuDesabilitarValidacao=function(){return s(n)},n.ExcluirModal=function(e,o){return _excluirModal(e,o,n,t)},e.confirmar=function(e,t){return _confirmar(n,e,t)}}})}(angular),function(e){"use strict";function n(){this.applySettings=function(o,r,i){if(!r)throw"Variável '$scope' precisa ser definda";if(!r)throw"Variável '$modelService' precisa ser definda";r.queryBuscar&&(r.limparBuscar=function(){r.queryBuscar=""}),o.listarItens=function(){return e(i,r)},r.atualizarItens=function(){return n(i,r)},r.excluirItem=function(e){return t(i,r,e)}};var e=function(e,n){return e.getAll().success(function(e){n.itens=e.results},function(e){throw e})},n=function(n,t){e(n,t).success(function(){t.$broadcast("scroll.refreshComplete")},function(e){throw e})},t=function(e,n,t){return e.excluir(t.objectId).success(function(e){n.itens.splice(n.itens.indexOf(t),1)},function(e){throw e})}}e.module("wopo.services").service("ListHelperService",n)}(angular),function(e){"use strict";function n(e,n,t,o){function r(e){l.mainRoute=e}function i(){if(!l.mainRoute)throw"mainRoute não configurada.";return n.UsuarioPrecisaEstarAutenticado&&(l.headers["X-Parse-Session-Token"]=o.getToken()),e.get(l.urlBase+l.mainRoute,{headers:l.headers})}function s(t){if(!t)throw"id não informado";if(!l.mainRoute)throw"mainRoute não configurada.";return n.UsuarioPrecisaEstarAutenticado&&(l.headers["X-Parse-Session-Token"]=o.getToken()),e.get(l.urlBase+l.mainRoute+"/"+t,{headers:l.headers})}function a(t){if(!l.mainRoute)throw"mainRoute não configurada.";return n.UsuarioPrecisaEstarAutenticado&&(l.headers["X-Parse-Session-Token"]=o.getToken()),e.post(l.urlBase+l.mainRoute,t,{headers:l.headers})}function u(t){if(!l.mainRoute)throw"mainRoute não configurada.";return n.UsuarioPrecisaEstarAutenticado&&(l.headers["X-Parse-Session-Token"]=o.getToken()),e.put(l.urlBase+l.mainRoute+"/"+t.objectId,t,{headers:l.headers})}function c(t){if(!l.mainRoute)throw"mainRoute não configurada.";return n.UsuarioPrecisaEstarAutenticado&&(l.headers["X-Parse-Session-Token"]=o.getToken()),e["delete"](l.urlBase+l.mainRoute+"/"+t,{headers:l.headers})}var l=this;this.mainRoute=void 0,this.urlBase="https://api.parse.com/1/classes/",this.headers={"X-Parse-Application-Id":n.APP_ID,"X-Parse-REST-API-Key":n.REST_API_KEY};var f={editar:u,excluir:c,getAll:i,getById:s,incluir:a,setMainRoute:r};return f}e.module("wopo.services").service("RestServiceBase",n),n.$inject=["$http","$wopo","WebStorageService","LoginService"]}(angular);