!function(n){var o=n.module("wopo.providers");o.provider("wopoProvider",function(){var n,o;return{setAppId:function(o){n=o},setRestApiKey:function(n){o=n},$get:function(){return{APP_ID:n,REST_API_KEY:o}}}})}(angular);
!function(r,o){o||console.error("É necessário importar a biblioteca cryptojs.js");var n=r.module("wopo.services");n.factory("CryptSha1Service",function(){var r=function(){this.hash=function(r){var n=JSON.stringify(r);return o.SHA1(n).toString()}};return new r})}(angular,CryptoJS);
!function(o){var n=o.module("wopo.services");n.service("FormHelperService",function(n,r,i){var u=this,t=function(o){u.defaultRoute=o},e=function(o){return o.enabledValidations=!o.enabledValidations,o.enabledValidations},a=function(o,r,t){return r.incluir(o).success(function(o){i.alert("Sucesso","Dados cadastrados com sucess!",3e3),n.path(u.defaultRoute)},function(o){throw o})},c=function(n,r,i){return r.editar(n).success(function(r){i.OriginalModel=o.copy(n)},function(o){throw o})},l=function(o){if(!o.formulario)throw"Objeto Formulário não definido";return o.formulario.$valid},f=function(o){return o.formularioEhValido()&&o.usuarioAlterouFormulario()},s=function(o,n){if(o.formulario=n,o.formularioEhValido()){if(o.modoEdicao){if(!o.usuarioAlterouFormulario())return;return o.salvarAlteracao()}return o.salvarInclusao()}},d=function(n){return!o.equals(n.Model,n.OriginalModel)},m=function(n){return o.copy(n.OriginalModel,n.Model),n.Formulario.$setPristine()},v=function(o){return null===o||void 0===o},g=function(o,n,r){n.modoEdicao=!0;var i=function(o,n,r,i,u){r.getById(o).success(function(o){var r=!!o;r&&n.edit(o),i(o,o,r)},function(o){throw o})};return new Promise(function(u,t){n.$config?configuracoesService.getByKey(n.$config).then(function(e){n.$config=e,i(o,n,r,u,t)}):i(o,n,r,u,t)})},h=function(n,r){r.modoEdicao=!0,r.Model=n,r.OriginalModel=o.copy(n)},p=function(n,r){var i=n||{};r.Model=i,r.OriginalModel=o.copy(i),r.carregado=!0},M=function(o){o.usuarioAlterouFormulario()?i.confirm("Alteração não salvas","Deseja sair sem salvar as alterações?",function(){n.path(u.defaultRoute)}):n.path(u.defaultRoute)};this.applySettings=function(o,n,r){if(!n)throw"Variável '$scope' precisa ser definda";n.enabledValidations=!0,n.salvarInclusao=function(){return a(n.Model,r,n)},n.salvarAlteracao=function(){return c(n.Model,r,n)},n.formularioEhValido=function(){return l(n)},n.canSubmit=function(){return f(n)},n.submitForm=function(o){return s(n,o)},n.usuarioAlterouFormulario=function(){return d(n)},n.desfazerAlteracoesDoUsuario=function(){return m(n)},n.sair=function(){return M(n)},n.edit=function(o){return h(o,n)},o.editById=function(o){return g(o,n,r)},o.novoRegistro=function(o){return p(o,n,r)},o.isNullOrUndefined=function(o){return v(o)},o.setDefaultRoute=function(o){return t(o)},n.habilitarOuDesabilitarValidacao=function(){return e(n)},n.ExcluirModal=function(o,i){return _excluirModal(o,i,n,r)},o.confirmar=function(o,r){return _confirmar(n,o,r)}}})}(angular);
!function(t){var n=t.module("wopo.services");n.factory("IonicPopupService",function(t,n){var e=function(){this.alert=function(e,i,o){var c=t.alert({title:e,template:i});n(function(){c.close()},o)},this.confirm=function(n,e,i,o){var c=t.confirm({title:n,template:e});c.then(function(t){t?i():o()})}};return new e})}(angular);
!function(e){var n=e.module("wopo.services");n.service("ListHelperService",function(){var e=function(e,n){return e.getAll().success(function(e){n.itens=e.results},function(e){throw e})},n=function(n,r){e(n,r).success(function(){r.$broadcast("scroll.refreshComplete")},function(e){throw e})},r=function(e,n,r){return e.excluir(r.objectId).success(function(e){n.itens.splice(n.itens.indexOf(r),1)},function(e){throw e})};this.applySettings=function(t,i,c){if(!i)throw"Variável '$scope' precisa ser definda";if(!i)throw"Variável '$modelService' precisa ser definda";i.queryBuscar&&(i.limparBuscar=function(){i.queryBuscar=""}),t.listarItens=function(){return e(c,i)},i.atualizarItens=function(){return n(c,i)},i.excluirItem=function(e){return r(c,i,e)}}})}(angular);
!function(e){var t=e.module("wopo.services");t.factory("RestServiceBase",function(e,t,i){var o=function(){self=this,this.mainRoute=void 0,this.urlBase="https://api.parse.com/1/classes/",this.getToken=function(){var e=i.getLocalStorage("_$token")||i.getSessionStorage("_$token");if(e)return e;throw"Usuário não autenticado, efetue login"},this.headers={"X-Parse-Application-Id":t.APP_ID,"X-Parse-REST-API-Key":t.REST_API_KEY,"X-Parse-Session-Token":this.getToken()},this.setMainRoute=function(e){self.mainRoute=e},this.getAll=function(){if(!self.mainRoute)throw"mainRoute não configurada.";return e.get(self.urlBase+self.mainRoute,{headers:self.headers})},this.getById=function(t){if(!t)throw"id não informado";if(!this.mainRoute)throw"mainRoute não configurada.";return e.get(self.urlBase+self.mainRoute+"/"+t,{headers:self.headers})},this.incluir=function(t){if(!self.mainRoute)throw"mainRoute não configurada.";return e.post(self.urlBase+self.mainRoute,t,{headers:self.headers})},this.editar=function(t){if(!this.mainRoute)throw"mainRoute não configurada.";return e.put(self.urlBase+self.mainRoute+"/"+t.objectId,t,{headers:self.headers})},this.excluir=function(t){if(!this.mainRoute)throw"mainRoute não configurada.";return e["delete"](self.urlBase+self.mainRoute+"/"+t,{headers:self.headers})}};return o})}(angular);
!function(e){var o=e.module("wopo.services");o.factory("WebStorageService",function(){var e=function(){this.setLocalStorage=function(e,o){o&&(localStorage[e]=JSON.stringify(o))},this.getLocalStorage=function(e){return localStorage[e]?JSON.parse(localStorage[e]):null},this.setSessionStorage=function(e,o){o&&(sessionStorage[e]=JSON.stringify(o))},this.getSessionStorage=function(e){return sessionStorage[e]?JSON.parse(sessionStorage[e]):null}};return new e})}(angular);