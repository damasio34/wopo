var CryptoJS=CryptoJS||function(e,t){var n={},r=n.lib={},o=function(){},i=r.Base={extend:function(e){o.prototype=this;var t=new o;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=r.WordArray=i.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var o=0;e>o;o++)t[r+o>>>2]|=(n[o>>>2]>>>24-8*(o%4)&255)<<24-8*((r+o)%4);else if(65535<n.length)for(o=0;e>o;o+=4)t[r+o>>>2]=n[o>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-8*(n%4),t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;t>r;r+=4)n.push(4294967296*e.random()|0);return new s.init(n,t)}}),a=n.enc={},u=a.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;e>r;r++){var o=t[r>>>2]>>>24-8*(r%4)&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-4*(r%8);return new s.init(n,t/2)}},c=a.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;e>r;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-8*(r%4)&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-8*(r%4);return new s.init(n,t)}},l=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},f=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,i=this.blockSize,a=o/(4*i),a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0);if(t=a*i,o=e.min(4*t,o),t){for(var u=0;t>u;u+=i)this._doProcessBlock(r,u);u=r.splice(0,t),n.sigBytes-=o}return new s.init(u,o)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=f.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}});var d=n.algo={};return n}(Math);!function(){var e=CryptoJS,t=e.lib,n=t.WordArray,r=t.Hasher,o=[],t=e.algo.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],a=n[3],u=n[4],c=0;80>c;c++){if(16>c)o[c]=0|e[t+c];else{var l=o[c-3]^o[c-8]^o[c-14]^o[c-16];o[c]=l<<1|l>>>31}l=(r<<5|r>>>27)+u+o[c],l=20>c?l+((i&s|~i&a)+1518500249):40>c?l+((i^s^a)+1859775393):60>c?l+((i&s|i&a|s&a)-1894007588):l+((i^s^a)-899497514),u=a,a=s,s=i<<30|i>>>2,i=r,r=l}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),t[(r+64>>>9<<4)+15]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=r._createHelper(t),e.HmacSHA1=r._createHmacHelper(t)}(),function(e){"use strict";e.module("wopo.services",[])}(angular),function(e){"use strict";e.module("wopo",["wopo.services"])}(angular),function(e){"use strict";function t(){function e(e){o=e}function t(e){i=e}function n(e){s=e}function r(){return o||console.error("A configuração APP_ID não foi definida"),i||console.error("A configuração REST_API_KEY não foi definida"),{APP_ID:o,REST_API_KEY:i,UsuarioPrecisaEstarAutenticado:s}}var o,i,s=!0;this.setAppId=e,this.setRestApiKey=t,this.setUsuarioPrecisaEstarAutenticado=n,this.$get=r}e.module("wopo").provider("$wopo",t)}(angular),function(e,t){"use strict";function n(){function e(e){var n=JSON.stringify(e);return t.SHA1(n).toString()}var n={hash:e};return n}t||console.error("É necessário importar a biblioteca cryptojs-sha1.js"),e.module("wopo.services").factory("CryptSha1Service",n)}(angular,CryptoJS),function(e){"use strict";function t(e,t){function n(n,r,o){var i=e.alert({title:n,template:r});t(function(){i.close()},o)}function r(t,n,r,o){var i=e.confirm({title:t,template:n});i.then(function(e){e?r():o()})}var o={alert:n,confirm:r};return o}e.module("wopo.services").factory("IonicPopupService",t),t.$inject=["$ionicPopup","$timeout"]}(angular),function(e){"use strict";function t(){function e(e,t){t&&(localStorage[e]=JSON.stringify(t))}function t(e){return localStorage[e]?JSON.parse(localStorage[e]):null}function n(e,t){t&&(sessionStorage[e]=JSON.stringify(t))}function r(e){return sessionStorage[e]?JSON.parse(sessionStorage[e]):null}var o={getLocalStorage:t,getSessionStorage:r,setLocalStorage:e,setSessionStorage:n};return o}e.module("wopo.services").factory("WebStorageService",t)}(angular),function(e){"use strict";function t(t,n,r,o){function i(){return f()?r.getLocalStorage("_$token")||r.getSessionStorage("_$token"):void console.error("Usuário não autenticado, por favor efetue login.")}function s(){var n=i(),r=e.copy(d.headers,r);return r["X-Parse-Session-Token"]=n,t.get("https://api.parse.com/1/users/me",{headers:r}).success(function(e,t){200==t&&console.log(e)}).error(function(e,t){console.log(e.error)})}function a(n){var i=e.copy(d.headers,i);i["Content-Type"]="application/json";var s={username:n.usuario,password:o.hash(n.senha),email:n.email};return t.post("https://api.parse.com/1/users",s,{headers:i}).success(function(e,t){201==t&&e.sessionToken&&(n.salvarSenha?r.setLocalStorage("_$token",e.sessionToken):r.setSessionStorage("_$token",e.sessionToken))}).error(function(e,t){400===t&&202===e.code&&console.warn("O nome de usuário "+n.usuario+" já está cadastrado."),console.log(e)})}function u(n){f()&&c();var i=e.copy(d.headers,i);return i["Content-Type"]="application/x-www-form-urlencoded",t.get("https://api.parse.com/1/login",{headers:i,params:{username:n.usuario,password:o.hash(n.senha)}}).success(function(e,t){200==t&&e.sessionToken&&(n.salvarSenha?r.setLocalStorage("_$token",e.sessionToken):r.setSessionStorage("_$token",e.sessionToken))}).error(function(e,t){404==t&&console.error("Usuário ou senha inválido.")})}function c(){var n=e.copy(d.headers,n),r=i();return n["X-Parse-Session-Token"]=r,r?t.post("https://api.parse.com/1/logout","",{headers:n}).success(function(e,t,n){200==t&&(sessionStorage.removeItem("_$token"),sessionStorage.clear(),localStorage.removeItem("_$token"),localStorage.clear())}).error(function(e,t){console.log(t),console.log(e.error)}):void 0}function l(n){var r=e.copy(d.headers,r);return r["Content-Type"]="application/json",t.post("https://api.parse.com/1/requestPasswordReset",n,{headers:r}).success(function(e,t){console.log("Senha enviada com sucesso.")}).error(function(e,t){400===t&&202===e.code&&console.warn("O nome de usuário "+n.usuario+" já está cadastrado."),console.log(e)})}function f(){var e=r.getLocalStorage("_$token")||r.getSessionStorage("_$token");return e&&null!==e?!0:!1}var d=this;this.headers={"X-Parse-Application-Id":n.APP_ID,"X-Parse-REST-API-Key":n.REST_API_KEY};var h={getToken:i,getUsuario:s,incluir:a,login:u,logout:c,recuperarSenha:l,usuarioAutenticado:f};return h}e.module("wopo.services").factory("LoginService",t),t.$inject=["$http","$wopo","WebStorageService","CryptSha1Service"]}(angular),function(e){"use strict";function t(e,t){function n(){return e.getLocalStorage("_$currentUser")&&(t.currentUser=e.getLocalStorage("_$currentUser")),t.currentUser}var r={getUsuario:n};return r}e.module("wopo.services").factory("CookiesSession",t),t.$injector=["WebStorageService","$rootScope"]}(angular),function(e){var t=e.module("wopo.services");t.service("FormHelperService",function(t,n,r){var o=this,i=function(e){o.defaultRoute=e},s=function(e){return e.enabledValidations=!e.enabledValidations,e.enabledValidations},a=function(e,n,i){return n.incluir(e).success(function(e){r.alert("Sucesso","Dados cadastrados com sucess!",3e3),t.path(o.defaultRoute)},function(e){throw e})},u=function(t,n,r){return n.editar(t).success(function(n){r.OriginalModel=e.copy(t)},function(e){throw e})},c=function(e){if(!e.formulario)throw"Objeto Formulário não definido";return e.formulario.$valid},l=function(e){return e.formularioEhValido()&&e.usuarioAlterouFormulario()},f=function(e,t){if(e.formulario=t,e.formularioEhValido()){if(e.modoEdicao){if(!e.usuarioAlterouFormulario())return;return e.salvarAlteracao()}return e.salvarInclusao()}},d=function(t){return!e.equals(t.Model,t.OriginalModel)},h=function(t){return e.copy(t.OriginalModel,t.Model),t.Formulario.$setPristine()},p=function(e){return null===e||void 0===e},g=function(e,t,n){t.modoEdicao=!0;var r=function(e,t,n,r,o){n.getById(e).success(function(e){var n=!!e;n&&t.edit(e),r(e,e,n)},function(e){throw e})};return new Promise(function(o,i){t.$config?configuracoesService.getByKey(t.$config).then(function(s){t.$config=s,r(e,t,n,o,i)}):r(e,t,n,o,i)})},m=function(t,n){n.modoEdicao=!0,n.Model=t,n.OriginalModel=e.copy(t)},v=function(t,n){var r=t||{};n.Model=r,n.OriginalModel=e.copy(r),n.carregado=!0},S=function(e){e.usuarioAlterouFormulario()?r.confirm("Alteração não salvas","Deseja sair sem salvar as alterações?",function(){t.path(o.defaultRoute)}):t.path(o.defaultRoute)};this.applySettings=function(e,t,n){if(!t)throw"Variável '$scope' precisa ser definda";t.enabledValidations=!0,t.salvarInclusao=function(){return a(t.Model,n,t)},t.salvarAlteracao=function(){return u(t.Model,n,t)},t.formularioEhValido=function(){return c(t)},t.canSubmit=function(){return l(t)},t.submitForm=function(e){return f(t,e)},t.usuarioAlterouFormulario=function(){return d(t)},t.desfazerAlteracoesDoUsuario=function(){return h(t)},t.sair=function(){return S(t)},t.edit=function(e){return m(e,t)},e.editById=function(e){return g(e,t,n)},e.novoRegistro=function(e){return v(e,t,n)},e.isNullOrUndefined=function(e){return p(e)},e.setDefaultRoute=function(e){return i(e)},t.habilitarOuDesabilitarValidacao=function(){return s(t)},t.ExcluirModal=function(e,r){return _excluirModal(e,r,t,n)},e.confirmar=function(e,n){return _confirmar(t,e,n)}}})}(angular),function(e){"use strict";function t(){function e(e,o,i){if(!o)throw"Variável '$scope' precisa ser definda";if(!o)throw"Variável '$modelService' precisa ser definda";o.queryBuscar&&(o.limparBuscar=function(){o.queryBuscar=""}),e.listarItens=function(){return t(i,o)},o.atualizarItens=function(){return n(i,o)},o.excluirItem=function(e){return r(i,o,e)}}function t(e,t){return e.getAll().success(function(e){t.itens=e.results},function(e){throw e})}function n(e,n){t(e,n).success(function(){n.$broadcast("scroll.refreshComplete")},function(e){throw e})}function r(e,t,n){return e.excluir(n.objectId).success(function(e){t.itens.splice(t.itens.indexOf(n),1)},function(e){throw e})}var o={applySettings:e,_listarItens:t,_atualizarItens:n,_excluirItem:r};return o}e.module("wopo.services").service("ListHelperService",t)}(angular),function(e){"use strict";function t(e,t,n,r){function o(e){l.mainRoute=e}function i(){if(!l.mainRoute)throw"mainRoute não configurada.";return t.UsuarioPrecisaEstarAutenticado&&(l.headers["X-Parse-Session-Token"]=r.getToken()),e.get(l.urlBase+l.mainRoute,{headers:l.headers})}function s(n){if(!n)throw"id não informado";if(!l.mainRoute)throw"mainRoute não configurada.";return t.UsuarioPrecisaEstarAutenticado&&(l.headers["X-Parse-Session-Token"]=r.getToken()),e.get(l.urlBase+l.mainRoute+"/"+n,{headers:l.headers})}function a(n){if(!l.mainRoute)throw"mainRoute não configurada.";return t.UsuarioPrecisaEstarAutenticado&&(l.headers["X-Parse-Session-Token"]=r.getToken()),e.post(l.urlBase+l.mainRoute,n,{headers:l.headers})}function u(n){if(!l.mainRoute)throw"mainRoute não configurada.";return t.UsuarioPrecisaEstarAutenticado&&(l.headers["X-Parse-Session-Token"]=r.getToken()),e.put(l.urlBase+l.mainRoute+"/"+n.objectId,n,{headers:l.headers})}function c(n){if(!l.mainRoute)throw"mainRoute não configurada.";return t.UsuarioPrecisaEstarAutenticado&&(l.headers["X-Parse-Session-Token"]=r.getToken()),e["delete"](l.urlBase+l.mainRoute+"/"+n,{headers:l.headers})}var l=this;this.mainRoute=void 0,this.urlBase="https://api.parse.com/1/classes/",this.headers={"X-Parse-Application-Id":t.APP_ID,"X-Parse-REST-API-Key":t.REST_API_KEY};var f={editar:u,excluir:c,getAll:i,getById:s,incluir:a,setMainRoute:o};return f}e.module("wopo.services").service("RestServiceBase",t),t.$inject=["$http","$wopo","WebStorageService","LoginService"]}(angular);